import"../chunks/DsnmJJEf.js";import{i as Le}from"../chunks/D_lJW-_b.js";import{G as Ce,n as ze,D as oe,o as P,A as Fe,p as Pe,W as t,ar as Ue,B as Xe,H as qe,C as he,F as fe,z as ae,ag as Ke,ak as Ve,w as pe,J as Ye,I as Je,as as We,at as z,au as ye,ao as Ie,i as $e,av as Qe,K as Me,L as Ze,aw as je,ax as ea,ay as de,y as Ne,ai as aa,az as ta,an as ra,aA as la,ae as ia,aB as sa,aC as na,v as va,a9 as be,aD as oa,a4 as fa,a2 as W,$ as da,a0 as xe,a3 as te,a1 as B,a5 as ca,aE as ua,a8 as H,a6 as A,a7 as T,aF as b,aG as we,aH as J,aI as le}from"../chunks/CDeyDFFG.js";import{e as ce,s as ie}from"../chunks/C0biCVFh.js";import{i as j}from"../chunks/D6E8Ztsl.js";import{r as Te}from"../chunks/BSjTiR5e.js";function _a(n,v){return v}function pa(n,v,a){for(var e=n.items,l=[],i=v.length,r=0;r<i;r++)ta(v[r].e,l,!0);var f=i>0&&l.length===0&&a!==null;if(f){var x=a.parentNode;ra(x),x.append(a),e.clear(),F(n,v[0].prev,v[i-1].next)}la(l,()=>{for(var s=0;s<i;s++){var p=v[s];f||(e.delete(p.k),F(n,p.prev,p.next)),Ne(p.e,!f)}})}function ga(n,v,a,e,l,i=null){var r=n,f={flags:v,items:new Map,first:null};{var x=n;r=P?oe(Fe(x)):x.appendChild(Ce())}P&&Pe();var s=null,p=!1,N=new Map,u=Ue(()=>{var h=a();return $e(h)?h:h==null?[]:Ie(h)}),E,_;function g(){ma(_,E,f,N,r,l,v,e,a),i!==null&&(E.length===0?s?Me(s):s=pe(()=>i(r)):s!==null&&Ze(s,()=>{s=null}))}ze(()=>{_??=ia,E=t(u);var h=E.length;if(p&&h===0)return;p=h===0;let S=!1;if(P){var D=Xe(r)===qe;D!==(h===0)&&(r=he(),oe(r),fe(!1),S=!0)}if(P){for(var y=null,k,w=0;w<h;w++){if(ae.nodeType===Ke&&ae.data===Ve){r=ae,S=!0,fe(!1);break}var R=E[w],O=e(R,w);k=ge(ae,f,y,null,R,O,w,l,v,a),f.items.set(O,k),y=k}h>0&&oe(he())}if(P)h===0&&i&&(s=pe(()=>i(r)));else if(Ye()){var G=new Set,I=Je;for(w=0;w<h;w+=1){R=E[w],O=e(R,w);var U=f.items.get(O)??N.get(O);U?De(U,R,w):(k=ge(null,f,null,null,R,O,w,l,v,a,!0),N.set(O,k)),G.add(O)}for(const[K,V]of f.items)G.has(K)||I.skipped_effects.add(V.e);I.add_callback(g)}else g();S&&fe(!0),t(u)}),P&&(r=ae)}function ma(n,v,a,e,l,i,r,f,x){var s=v.length,p=a.items,N=a.first,u=N,E,_=null,g=[],h=[],S,D,y,k;for(k=0;k<s;k+=1){if(S=v[k],D=f(S,k),y=p.get(D),y===void 0){var w=e.get(D);if(w!==void 0){e.delete(D),p.set(D,w);var R=_?_.next:u;F(a,_,w),F(a,w,R),ue(w,R,l),_=w}else{var O=u?u.e.nodes_start:l;_=ge(O,a,_,_===null?a.first:_.next,S,D,k,i,r,x)}p.set(D,_),g=[],h=[],u=_.next;continue}if(De(y,S,k),(y.e.f&de)!==0&&Me(y.e),y!==u){if(E!==void 0&&E.has(y)){if(g.length<h.length){var G=h[0],I;_=G.prev;var U=g[0],K=g[g.length-1];for(I=0;I<g.length;I+=1)ue(g[I],G,l);for(I=0;I<h.length;I+=1)E.delete(h[I]);F(a,U.prev,K.next),F(a,_,U),F(a,K,G),u=G,_=K,k-=1,g=[],h=[]}else E.delete(y),ue(y,u,l),F(a,y.prev,y.next),F(a,y,_===null?a.first:_.next),F(a,_,y),_=y;continue}for(g=[],h=[];u!==null&&u.k!==D;)(u.e.f&de)===0&&(E??=new Set).add(u),h.push(u),u=u.next;if(u===null)continue;y=u}g.push(y),_=y,u=y.next}if(u!==null||E!==void 0){for(var V=E===void 0?[]:Ie(E);u!==null;)(u.e.f&de)===0&&V.push(u),u=u.next;var re=V.length;if(re>0){var se=s===0?l:null;pa(a,V,se)}}n.first=a.first&&a.first.e,n.last=_&&_.e;for(var $ of e.values())Ne($.e);e.clear()}function De(n,v,a,e){We(n.v,v),n.i=a}function ge(n,v,a,e,l,i,r,f,x,s,p){var N=(x&je)!==0,u=(x&ea)===0,E=N?u?z(l,!1,!1):ye(l):l,_=(x&Qe)===0?r:ye(r),g={i:_,v:E,k:i,a:null,e:null,prev:a,next:e};try{if(n===null){var h=document.createDocumentFragment();h.append(n=Ce())}return g.e=pe(()=>f(n,E,_,s),P),g.e.prev=a&&a.e,g.e.next=e&&e.e,a===null?p||(v.first=g):(a.next=g,a.e.next=g.e),e!==null&&(e.prev=g,e.e.prev=g.e),g}finally{}}function ue(n,v,a){for(var e=n.next?n.next.e.nodes_start:a,l=v?v.e.nodes_start:a,i=n.e.nodes_start;i!==null&&i!==e;){var r=aa(i);l.before(i),i=r}}function F(n,v,a){v===null?n.first=a:(v.next=a,v.e.next=a&&a.e),a!==null&&(a.prev=v,a.e.prev=v&&v.e)}const Ee=[...` 	
\r\fÂ \v\uFEFF`];function ha(n,v,a){var e=n==null?"":""+n;if(v&&(e=e?e+" "+v:v),a){for(var l in a)if(a[l])e=e?e+" "+l:l;else if(e.length)for(var i=l.length,r=0;(r=e.indexOf(l,r))>=0;){var f=r+i;(r===0||Ee.includes(e[r-1]))&&(f===e.length||Ee.includes(e[f]))?e=(r===0?"":e.substring(0,r))+e.substring(f+1):r=f}}return e===""?null:e}function ee(n,v,a,e,l,i){var r=n.__className;if(P||r!==a||r===void 0){var f=ha(a,e,i);(!P||f!==n.getAttribute("class"))&&(f==null?n.removeAttribute("class"):n.className=f),n.__className=a}else if(i&&l!==i)for(var x in i){var s=!!i[x];(l==null||s!==!!l[x])&&n.classList.toggle(x,s)}return i}const _e=new Set;function Ae(n,v,a,e,l=e){var i=a.getAttribute("type")==="checkbox",r=n;let f=!1;if(v!==null)for(var x of v)r=r[x]??=[];r.push(a),sa(a,"change",()=>{var s=a.__value;i&&(s=ke(r,s,a.checked)),l(s)},()=>l(i?[]:null)),na(()=>{var s=e();if(P&&a.defaultChecked!==a.checked){f=!0;return}i?(s=s||[],a.checked=s.includes(a.__value)):a.checked=oa(a.__value,s)}),va(()=>{var s=r.indexOf(a);s!==-1&&r.splice(s,1)}),_e.has(r)||(_e.add(r),be(()=>{r.sort((s,p)=>s.compareDocumentPosition(p)===4?-1:1),_e.delete(r)})),be(()=>{if(f){var s;if(i)s=ke(r,s,a.checked);else{var p=r.find(N=>N.checked);s=p?.__value}l(s)}})}function ke(n,v,a){for(var e=new Set,l=0;l<n.length;l+=1)n[l].checked&&e.add(n[l].__value);return a||e.delete(v),Array.from(e)}var ya=W('<meta name="description" content="Beautiful Tic-Tac-Toe game built with SvelteKit" class="svelte-1pagyi5"/>'),ba=W('<div class="mode_selection_overlay svelte-1pagyi5"><div class="mode-selection svelte-1pagyi5"><h3 class="svelte-1pagyi5">Select Game Mode</h3> <div class="mode-options svelte-1pagyi5"><label class="mode-card svelte-1pagyi5"><input type="radio" class="svelte-1pagyi5"/> <span class="svelte-1pagyi5">ðŸ‘¥ 1 vs 1</span></label> <label class="mode-card svelte-1pagyi5"><input type="radio" class="svelte-1pagyi5"/> <span class="svelte-1pagyi5">ðŸ¤– 1 vs Bot</span></label></div> <div class="game-controls svelte-1pagyi5"><button class="restart-btn svelte-1pagyi5"><span class="restart-icon svelte-1pagyi5">âœ…</span> start game</button></div></div></div>'),xa=W("Play: <span> </span>",1),wa=W("<div> </div>"),Ta=W("<button><span> </span></button>"),Ea=W('<div><div class="overlay-content svelte-1pagyi5"><div class="overlay-icon svelte-1pagyi5"><!></div> <div class="overlay-text svelte-1pagyi5"> </div> <div class="overlay-subtitle svelte-1pagyi5"><!></div></div></div>'),Aa=W('<!> <div class="game-container svelte-1pagyi5"><div class="game-header svelte-1pagyi5"><h1 class="game-title svelte-1pagyi5">Tic-Tac-Toe <span class="title-accent svelte-1pagyi5">XOX</span></h1> <div class="player-indicator svelte-1pagyi5"><div class="current-player svelte-1pagyi5"><!></div></div></div> <!> <div></div> <div class="game-controls svelte-1pagyi5"><button class="restart-btn svelte-1pagyi5"><span class="restart-icon svelte-1pagyi5">ðŸ”„</span> Restart Game</button></div> <!></div>',1);function Oa(n,v){fa(v,!1);const a=[];let e=z(Array(9).fill("")),l=z("x"),i=z("player"),r=z(!0),f=z(""),x=z(!1),s=z([]),p=z("pvp"),N=z(!0);function u(){b(N,!1)}function E(o){console.log(t(p)),t(r)&&t(r)&&(J(e,t(e)[o]=t(l)),console.log("grid_array cell clicked",t(e)),b(i,"bot"),g(),b(l,t(l)==="x"?"o":"x"),t(p)==="bot"&&setTimeout(h,1e3))}let _=[{indexes:[0,1,2]},{indexes:[3,4,5]},{indexes:[6,7,8]},{indexes:[0,3,6]},{indexes:[1,4,7]},{indexes:[2,5,8]},{indexes:[0,4,8]},{indexes:[2,4,6]}];function g(){for(let o of _){let[c,m,d]=o.indexes;if(t(e)[c]&&t(e)[c]===t(e)[m]&&t(e)[c]===t(e)[d]){b(i,`Player ${t(e)[c].toUpperCase()} wins ðŸŽ‰`),b(r,!1),b(f,"win"),b(x,!0),b(s,o.indexes),setTimeout(()=>{y()},3e3);return}}t(e).every(o=>o!=="")&&(b(i,"It's a draw! ðŸ¤"),b(f,"draw"),b(x,!0),setTimeout(()=>{y()},3e3))}function h(){b(i,"player");let o=t(e).map((m,d)=>m===""?d:null).filter(m=>m!==null),c=o[Math.floor(Math.random()*o.length)];if(t(p)==="bot"){for(let d of o){if(J(e,t(e)[d]=t(l)),D(t(l))){S(d);return}J(e,t(e)[d]="")}let m=t(l)==="x"?"o":"x";for(let d of o){if(J(e,t(e)[d]=m),D(m)){J(e,t(e)[d]=""),S(d);return}J(e,t(e)[d]="")}S(c)}}function S(o){J(e,t(e)[o]=t(l)),console.log(".finalize_bot_move after,",t(e)),b(l,t(l)==="x"?"o":"x"),g()}function D(o){return _.some(c=>{let[m,d,M]=c.indexes;return console.log("grid_array... checking..",t(e)),t(e)[m]===o&&t(e)[d]===o&&t(e)[M]===o})}function y(){b(e,Array(9).fill("")),console.log("grid_array rest_grid",t(e)),b(i,""),b(r,!0),b(x,!1),b(f,""),b(s,[]),b(l,"x"),b(N,!0)}Le();var k=Aa();da(o=>{var c=ya();ua.title="Tic-Tac-Toe | Modern Game",B(o,c)});var w=xe(k);{var R=o=>{var c=ba(),m=A(c),d=H(A(m),2),M=A(d),L=A(M);Te(L),L.value=L.__value="pvp",we(2),T(M);var Q=H(M,2),X=A(Q);Te(X),X.value=X.__value="bot",we(2),T(Q),T(d);var q=H(d,2),ve=A(q);T(q),T(m),T(c),Ae(a,[],L,()=>t(p),Z=>b(p,Z)),Ae(a,[],X,()=>t(p),Z=>b(p,Z)),ce("click",ve,u),B(o,c)};j(w,o=>{t(N)&&o(R)})}var O=H(w,2),G=A(O),I=H(A(G),2),U=A(I),K=A(U);{var V=o=>{var c=xa(),m=H(xe(c)),d=A(m,!0);T(m),te(()=>{ee(m,1,`player-symbol player-${t(l)??""}`,"svelte-1pagyi5"),ie(d,t(i))}),B(o,c)};j(K,o=>{t(l)&&t(i)&&t(p)==="bot"&&o(V)})}T(U),T(I),T(G);var re=H(G,2);{var se=o=>{var c=wa();let m;var d=A(c,!0);T(c),te(M=>{m=ee(c,1,"game-status svelte-1pagyi5",null,m,M),ie(d,t(i))},[()=>({visible:t(i)})]),B(o,c)};j(re,o=>{t(p)!=="bot"&&o(se)})}var $=H(re,2);let me;ga($,5,()=>t(e),_a,(o,c,m)=>{var d=Ta();let M;var L=A(d),Q=A(L,!0);T(L),T(d),te((X,q)=>{M=ee(d,1,"game-cell svelte-1pagyi5",null,M,X),d.disabled=!t(r)||t(c)!=="",ee(L,1,`cell-content cell-${t(c)??""}`,"svelte-1pagyi5"),ie(Q,q)},[()=>({"winning-cell":t(s).includes(m)}),()=>t(c).toUpperCase()]),ce("click",d,()=>E(m)),B(o,d)}),T($);var ne=H($,2),Oe=A(ne);T(ne);var Se=H(ne,2);{var He=o=>{var c=Ea();let m;var d=A(c),M=A(d),L=A(M);{var Q=C=>{var Y=le("ðŸ†");B(C,Y)},X=C=>{var Y=le("ðŸ¤");B(C,Y)};j(L,C=>{t(f)==="win"?C(Q):C(X,!1)})}T(M);var q=H(M,2),ve=A(q,!0);T(q);var Z=H(q,2),Re=A(Z);{var Ge=C=>{var Y=le("Congratulations!");B(C,Y)},Be=C=>{var Y=le("Good game!");B(C,Y)};j(Re,C=>{t(f)==="win"?C(Ge):C(Be,!1)})}T(Z),T(d),T(c),te(C=>{m=ee(c,1,"overlay svelte-1pagyi5",null,m,C),ie(ve,t(i))},[()=>({win:t(f)==="win",draw:t(f)==="draw"})]),B(o,c)};j(Se,o=>{t(x)&&o(He)})}T(O),te(o=>me=ee($,1,"game-board svelte-1pagyi5",null,me,o),[()=>({disabled:!t(r)})]),ce("click",Oe,y),B(n,k),ca()}export{Oa as component};
